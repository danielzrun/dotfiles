# =============================================================================
# Git Configuration
# =============================================================================

[user]
    name = {{ .name }}
    email = {{ .email }}

[core]
    editor = nvim
    excludesfile = ~/.config/git/ignore
    ignorecase = false
    pager = delta

[init]
    defaultBranch = main

[color]
    ui = true

[alias]
    # Basic shortcuts
    co = checkout
    br = branch
    ci = commit
    st = status

    # Enhanced log
    lg = log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit
    ll = log --pretty=format:"%C(yellow)%h%Cred%d\\ %Creset%s%Cblue\\ [%cn]" --decorate --numstat

    # Quick actions
    aa = add --all
    cm = commit -m
    cam = commit -am
    amend = commit --amend --no-edit
    undo = reset --soft HEAD~1

    # Branch management
    branches = branch -a
    tags = tag -l
    remotes = remote -v

    # Status and diff
    s = status -s
    d = diff
    dc = diff --cached

    # Push/pull
    p = pull
    ps = push
    pf = push --force-with-lease

    # Stash
    stash-all = stash save --include-untracked
    unstash = stash pop

    # Cleanup
    clean-branches = "!git branch --merged | grep -v '\\*\\|main\\|master\\|develop' | xargs -n 1 git branch -d"

    # Search
    find = "!git ls-files | grep -i"
    grep = grep -Ii

    # History
    history = log --follow -p --
    contributors = shortlog --summary --numbered

[pull]
    rebase = true

[include]
    path = ~/.config/git/delta-themes

[delta]
    features = catppuccin-mocha
    navigate = true
    line-numbers = true
    side-by-side = true

[merge]
    conflictstyle = diff3

[diff]
    colorMoved = default
    tool = difftastic

[difftool]
    prompt = false

[difftool "difftastic"]
    cmd = difft "$LOCAL" "$REMOTE"

[interactive]
    diffFilter = delta --color-only

{{- if eq .chezmoi.os "darwin" }}
[credential]
    helper = osxkeychain
{{- end }}
