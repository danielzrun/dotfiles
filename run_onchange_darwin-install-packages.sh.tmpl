{{- if eq .chezmoi.os "darwin" -}}
#!/bin/bash

# Brewfile hash: {{ include "dot_config/brew/Brewfile" | sha256sum }}

if command -v brew >/dev/null 2>&1; then
    echo "ğŸ“² Brewfile changed. Syncing Homebrew packages..."
    brew bundle --file={{ .chezmoi.sourceDir }}/dot_config/brew/Brewfile 
else
    echo "âŒ Homebrew not found. Skipping package installation."
fi

# æ£€æŸ¥æ˜¯å¦å®‰è£…äº† Oh My Zsh
if [ ! -d "$HOME/.oh-my-zsh" ]; then
  echo "Installing Oh My Zsh..."
  # ä½¿ç”¨ --unattended é¿å…å®‰è£…å®Œæˆåç›´æ¥è¿›å…¥ zsh å¯¼è‡´è„šæœ¬ä¸­æ–­
  sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)" "" --unattended
fi

{{- end -}}
